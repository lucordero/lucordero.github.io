---
import GitHub from "../assets/icons/GitHub.svg";
import LinkedIn from "../assets/icons/LinkedIn.svg";
import Mail from "../assets/icons/Mail.svg";
---

<nav
        class="mt-6 flex flex-row gap-x-10 items-center justify-between sm:gap-x-16 sm:justify-around md:justify-normal"
>
    <a
            aria-label="Go to Luca Cordero GitHub page"
            href="https://www.github.com/lucordero"
            target="_blank"
    >
        <GitHub
                class="size-10 sm:size-8 hover:scale-125 transition dark:fill-white fill-black"
        />
    </a>

    <a
            aria-label="Go to profile LinkedIn Lucas Cordero"
            href="https://www.linkedin.com/in/lucascordero"
            target="_blank"
    >
        <LinkedIn
                class="size-10 sm:size-8 dark:fill-white hover:scale-125 transition fill-black"
        />
    </a>

    <button
            name="mail"
            class="flex hover:scale-125 transition cursor-pointer"
            id="copyEmail"
    >
        <Mail class="size-12 sm:size-10 stroke-black dark:stroke-white"/>
    </button>

    <a
            name="curriculumVitae"
            class="flex hover:scale-125 transition cursor-pointer"
            href="/src/pages/cv.astro"
    >
    </a>
</nav>
<script>
    import tippy from "tippy.js";
    import "tippy.js/dist/tippy.css"; // optional for styling
    import "tippy.js/themes/translucent.css";

    // Función para inicializar el tooltip
    function initializeTooltip(element: HTMLElement) {
        return tippy(element, {
            content: "Email Copiado!",
            trigger: "click",
            placement: "bottom",
            theme: "material",
            animation: "fade",
            delay: [100, 100],
        });
    }

    // Función para copiar el email al portapapeles
    function setupCopyEmailButton() {
        const copyEmailElement = document.getElementById("copyEmail");
        if (!copyEmailElement) return;

        // Inicializar tooltip
        const tooltipInstance = initializeTooltip(copyEmailElement);

        // Agregar evento de clic
        copyEmailElement.addEventListener("click", async () => {
            try {
                await navigator.clipboard.writeText(
                    "lucascordero1997@gmail.com"
                );
                tooltipInstance.show();
                setTimeout(() => tooltipInstance.hide(), 2000);
            } catch (error) {
                console.error("Error al copiar el email:", error);
            }
        });
    }

    // Ejecutar configuración al cargar el script
    setupCopyEmailButton();
</script>
